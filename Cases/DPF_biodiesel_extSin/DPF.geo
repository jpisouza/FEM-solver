// Gmsh project created on Thu Jun  4 09:24:57 2009

f = 0.06;

A = 0.1;
D = 0.7;
k = 1;
stretch=8;
phase = 0;
nCycles = 10;
nPoints = 100;
nTheta = 4;

k = 10000;
j = 1+k;
// top line
For i In {1:nPoints}
 X = stretch*( (i-1)/(nPoints-1) );
 Y = D + A*Sin(nCycles*2*Pi/stretch*X-phase);
 Point(j) = {X, Y, 0, f};
 j = j + 1;
EndFor

// bottom line
For i In {1:nPoints}
 X = stretch*( (i-1)/(nPoints-1) );
 Y = - D - A*Sin(nCycles*2*Pi/stretch*X-phase);
 Point(j) = {X, Y, 0, f};
 j = j + 1;
EndFor

j = 1+k;
// lines
For i In {1:nPoints-1}
 Line(j) = {j, j+1};
 j = j + 1;
EndFor

j = j + 1;
For i In {1:nPoints-1}
 Line(j-1) = {j+1, j};
 j = j + 1;
EndFor

//+
Point(10201) = {0, 0.5, 0, f};
//+
Point(10202) = {8, 0.5, 0, f};
//+
Point(10203) = {8, -0.5, 0, f};
//+
Point(10204) = {0, -0.5, 0, f};
//+
Point(10205) = {0, -1.2, 0, f};
//+
Point(10206) = {8, -1.2, 0, f};
//+
Point(10207) = {8, 1.2, 0, f};
//+
Point(10208) = {0, 1.2, 0, f};



//+
Line(10199) = {10001, 10201};
//+
Line(10200) = {10201, 10204};
//+
Line(10201) = {10204, 10101};
//+
Line(10202) = {10101, 10205};
//+
Line(10203) = {10205, 10206};
//+
Line(10204) = {10206, 10200};
//+
Line(10205) = {10200, 10203};
//+
Line(10206) = {10203, 10202};
//+
Line(10207) = {10202, 10100};
//+
Line(10208) = {10100, 10207};
//+
Line(10209) = {10207, 10208};
//+
Line(10210) = {10208, 10001};
//+
Line(10211) = {10201, 10202};
//+
Line(10212) = {10204, 10203};
//+
Curve Loop(1) = {10209, 10210, 10001, 10002, 10003, 10004, 10005, 10006, 10007, 10008, 10009, 10010, 10011, 10012, 10013, 10014, 10015, 10016, 10017, 10018, 10019, 10020, 10021, 10022, 10023, 10024, 10025, 10026, 10027, 10028, 10029, 10030, 10031, 10032, 10033, 10034, 10035, 10036, 10037, 10038, 10039, 10040, 10041, 10042, 10043, 10044, 10045, 10046, 10047, 10048, 10049, 10050, 10051, 10052, 10053, 10054, 10055, 10056, 10057, 10058, 10059, 10060, 10061, 10062, 10063, 10064, 10065, 10066, 10067, 10068, 10069, 10070, 10071, 10072, 10073, 10074, 10075, 10076, 10077, 10078, 10079, 10080, 10081, 10082, 10083, 10084, 10085, 10086, 10087, 10088, 10089, 10090, 10091, 10092, 10093, 10094, 10095, 10096, 10097, 10098, 10099, 10208};
//+
Plane Surface(1) = {1};
//+
Curve Loop(2) = {10211, 10207, -10099, -10098, -10097, -10096, -10095, -10094, -10093, -10092, -10091, -10090, -10089, -10088, -10087, -10086, -10085, -10084, -10083, -10082, -10081, -10080, -10079, -10078, -10077, -10076, -10075, -10074, -10073, -10072, -10071, -10070, -10069, -10068, -10067, -10066, -10065, -10064, -10063, -10062, -10061, -10060, -10059, -10058, -10057, -10056, -10055, -10054, -10053, -10052, -10051, -10050, -10049, -10048, -10047, -10046, -10045, -10044, -10043, -10042, -10041, -10040, -10039, -10038, -10037, -10036, -10035, -10034, -10033, -10032, -10031, -10030, -10029, -10028, -10027, -10026, -10025, -10024, -10023, -10022, -10021, -10020, -10019, -10018, -10017, -10016, -10015, -10014, -10013, -10012, -10011, -10010, -10009, -10008, -10007, -10006, -10005, -10004, -10003, -10002, -10001, 10199};
//+
Plane Surface(2) = {2};
//+
Curve Loop(3) = {10212, 10206, -10211, 10200};
//+
Plane Surface(3) = {3};
//+
Curve Loop(4) = {10201, -10100, -10101, -10102, -10103, -10104, -10105, -10106, -10107, -10108, -10109, -10110, -10111, -10112, -10113, -10114, -10115, -10116, -10117, -10118, -10119, -10120, -10121, -10122, -10123, -10124, -10125, -10126, -10127, -10128, -10129, -10130, -10131, -10132, -10133, -10134, -10135, -10136, -10137, -10138, -10139, -10140, -10141, -10142, -10143, -10144, -10145, -10146, -10147, -10148, -10149, -10150, -10151, -10152, -10153, -10154, -10155, -10156, -10157, -10158, -10159, -10160, -10161, -10162, -10163, -10164, -10165, -10166, -10167, -10168, -10169, -10170, -10171, -10172, -10173, -10174, -10175, -10176, -10177, -10178, -10179, -10180, -10181, -10182, -10183, -10184, -10185, -10186, -10187, -10188, -10189, -10190, -10191, -10192, -10193, -10194, -10195, -10196, -10197, -10198, 10205, -10212};
//+
Plane Surface(4) = {4};
//+
Curve Loop(5) = {10202, 10203, 10204, 10198, 10197, 10196, 10195, 10194, 10193, 10192, 10191, 10190, 10189, 10188, 10187, 10186, 10185, 10184, 10183, 10182, 10181, 10180, 10179, 10178, 10177, 10176, 10175, 10174, 10173, 10172, 10171, 10170, 10169, 10168, 10167, 10166, 10165, 10164, 10163, 10162, 10161, 10160, 10159, 10158, 10157, 10156, 10155, 10154, 10153, 10152, 10151, 10150, 10149, 10148, 10147, 10146, 10145, 10144, 10143, 10142, 10141, 10140, 10139, 10138, 10137, 10136, 10135, 10134, 10133, 10132, 10131, 10130, 10129, 10128, 10127, 10126, 10125, 10124, 10123, 10122, 10121, 10120, 10119, 10118, 10117, 10116, 10115, 10114, 10113, 10112, 10111, 10110, 10109, 10108, 10107, 10106, 10105, 10104, 10103, 10102, 10101, 10100};
//+
Plane Surface(5) = {5};
//+
Physical Curve("in_flow", 10213) = {10200};
//+
Physical Curve("out_flow", 10214) = {10208, 10204};
//+
Physical Curve("symmetry", 10215) = {10209, 10203};
//+
Physical Curve("wall", 10216) = {10206, 10207, 10205, 10199, 10210, 10201, 10202};
//+
Physical Surface("free", 10217) = {1, 3, 5};
//+
Physical Surface("porous", 10218) = {2, 4};
